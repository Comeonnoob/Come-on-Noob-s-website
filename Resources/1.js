import{S as rt,i as ot,s as it,B as st,e as N,C as lt,a as G,O as x,b as D,P as ee,t as j,d as q,aa as ct,ab as Pe,k as ft,l as ut,m as dt,y as $e,W,D as pt,E as ht,L as _t,ac as M,G as B,H as ie,I as J,J as K,ad as he}from"./chunks/index-b5b9e7e5.js";import{S as tt,I as H,g as ze,f as Ye,a as Se,b as _e,s as Y,i as Xe,c as re,P as Ze,d as mt,e as gt,h as wt}from"./chunks/singletons-a59ddf32.js";import{_ as Q,R as Qe,H as Oe}from"./chunks/control-e6c8e17e.js";function yt(o,e){return o==="/"||e==="ignore"?o:e==="never"?o.endsWith("/")?o.slice(0,-1):o:e==="always"&&!o.endsWith("/")?o+"/":o}function bt(o){return o.split("%25").map(decodeURI).join("%25")}function vt(o){for(const e in o)o[e]=decodeURIComponent(o[e]);return o}const Et=["href","pathname","search","searchParams","toString","toJSON"];function kt(o,e){const n=new URL(o);for(const a of Et){let r=n[a];Object.defineProperty(n,a,{get(){return e(),r},enumerable:!0,configurable:!0})}return $t(n),n}function $t(o){Object.defineProperty(o,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const St="/__data.json";function Rt(o){return o.replace(/\/$/,"")+St}function It(...o){let e=5381;for(const n of o)if(typeof n=="string"){let a=n.length;for(;a;)e=e*33^n.charCodeAt(--a)}else if(ArrayBuffer.isView(n)){const a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);let r=a.length;for(;r;)e=e*33^a[--r]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}const me=window.fetch;window.fetch=(o,e)=>((o instanceof Request?o.method:(e==null?void 0:e.method)||"GET")!=="GET"&&oe.delete(Ue(o)),me(o,e));const oe=new Map;function Lt(o,e){const n=Ue(o,e),a=document.querySelector(n);if(a!=null&&a.textContent){const{body:r,...f}=JSON.parse(a.textContent),t=a.getAttribute("data-ttl");return t&&oe.set(n,{body:r,init:f,ttl:1e3*Number(t)}),Promise.resolve(new Response(r,f))}return me(o,e)}function At(o,e,n){if(oe.size>0){const a=Ue(o,n),r=oe.get(a);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(n==null?void 0:n.cache))return new Response(r.body,r.init);oe.delete(a)}}return me(e,n)}function Ue(o,e){let a=`script[data-sveltekit-fetched][data-url=${JSON.stringify(o instanceof Request?o.url:o)}]`;if(e!=null&&e.headers||e!=null&&e.body){const r=[];e.headers&&r.push([...new Headers(e.headers)].join(",")),e.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&r.push(e.body),a+=`[data-hash="${It(...r)}"]`}return a}const Pt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Ot(o){const e=[];return{pattern:o==="/"?/^\/$/:new RegExp(`^${Ut(o).map(a=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(r)return e.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const f=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(f)return e.push({name:f[1],matcher:f[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const t=a.split(/\[(.+?)\](?!\])/);return"/"+t.map((d,_)=>{if(_%2){if(d.startsWith("x+"))return Re(String.fromCharCode(parseInt(d.slice(2),16)));if(d.startsWith("u+"))return Re(String.fromCharCode(...d.slice(2).split("-").map(L=>parseInt(L,16))));const g=Pt.exec(d);if(!g)throw new Error(`Invalid param: ${d}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,S,I,y,F]=g;return e.push({name:y,matcher:F,optional:!!S,rest:!!I,chained:I?_===1&&t[0]==="":!1}),I?"(.*?)":S?"([^/]*)?":"([^/]+?)"}return Re(d)}).join("")}).join("")}/?$`),params:e}}function Tt(o){return!/^\([^)]+\)$/.test(o)}function Ut(o){return o.slice(1).split("/").filter(Tt)}function Nt(o,e,n){const a={},r=o.slice(1);let f=0;for(let t=0;t<e.length;t+=1){const s=e[t],d=r[t-f];if(s.chained&&s.rest&&f){a[s.name]=r.slice(t-f,t+1).filter(_=>_).join("/"),f=0;continue}if(d===void 0){s.rest&&(a[s.name]="");continue}if(!s.matcher||n[s.matcher](d)){a[s.name]=d;continue}if(s.optional&&s.chained){f++;continue}return}if(!f)return a}function Re(o){return o.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Dt(o,e,n,a){const r=new Set(e);return Object.entries(n).map(([s,[d,_,g]])=>{const{pattern:S,params:I}=Ot(s),y={id:s,exec:F=>{const L=S.exec(F);if(L)return Nt(L,I,a)},errors:[1,...g||[]].map(F=>o[F]),layouts:[0,..._||[]].map(t),leaf:f(d)};return y.errors.length=y.layouts.length=Math.max(y.errors.length,y.layouts.length),y});function f(s){const d=s<0;return d&&(s=~s),[d,o[s]]}function t(s){return s===void 0?s:[r.has(s),o[s]]}}function jt(o){let e,n,a;var r=o[0][0];function f(t){return{props:{data:t[2],form:t[1]}}}return r&&(e=M(r,f(o))),{c(){e&&B(e.$$.fragment),n=N()},l(t){e&&ie(e.$$.fragment,t),n=N()},m(t,s){e&&J(e,t,s),G(t,n,s),a=!0},p(t,s){const d={};if(s&4&&(d.data=t[2]),s&2&&(d.form=t[1]),s&1&&r!==(r=t[0][0])){if(e){x();const _=e;D(_.$$.fragment,1,0,()=>{K(_,1)}),ee()}r?(e=M(r,f(t)),B(e.$$.fragment),j(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else r&&e.$set(d)},i(t){a||(e&&j(e.$$.fragment,t),a=!0)},o(t){e&&D(e.$$.fragment,t),a=!1},d(t){t&&q(n),e&&K(e,t)}}}function Vt(o){let e,n,a;var r=o[0][0];function f(t){return{props:{data:t[2],$$slots:{default:[Ht]},$$scope:{ctx:t}}}}return r&&(e=M(r,f(o))),{c(){e&&B(e.$$.fragment),n=N()},l(t){e&&ie(e.$$.fragment,t),n=N()},m(t,s){e&&J(e,t,s),G(t,n,s),a=!0},p(t,s){const d={};if(s&4&&(d.data=t[2]),s&1051&&(d.$$scope={dirty:s,ctx:t}),s&1&&r!==(r=t[0][0])){if(e){x();const _=e;D(_.$$.fragment,1,0,()=>{K(_,1)}),ee()}r?(e=M(r,f(t)),B(e.$$.fragment),j(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else r&&e.$set(d)},i(t){a||(e&&j(e.$$.fragment,t),a=!0)},o(t){e&&D(e.$$.fragment,t),a=!1},d(t){t&&q(n),e&&K(e,t)}}}function Ct(o){let e,n,a;var r=o[0][1];function f(t){return{props:{data:t[3],form:t[1]}}}return r&&(e=M(r,f(o))),{c(){e&&B(e.$$.fragment),n=N()},l(t){e&&ie(e.$$.fragment,t),n=N()},m(t,s){e&&J(e,t,s),G(t,n,s),a=!0},p(t,s){const d={};if(s&8&&(d.data=t[3]),s&2&&(d.form=t[1]),s&1&&r!==(r=t[0][1])){if(e){x();const _=e;D(_.$$.fragment,1,0,()=>{K(_,1)}),ee()}r?(e=M(r,f(t)),B(e.$$.fragment),j(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else r&&e.$set(d)},i(t){a||(e&&j(e.$$.fragment,t),a=!0)},o(t){e&&D(e.$$.fragment,t),a=!1},d(t){t&&q(n),e&&K(e,t)}}}function qt(o){let e,n,a;var r=o[0][1];function f(t){return{props:{data:t[3],$$slots:{default:[Ft]},$$scope:{ctx:t}}}}return r&&(e=M(r,f(o))),{c(){e&&B(e.$$.fragment),n=N()},l(t){e&&ie(e.$$.fragment,t),n=N()},m(t,s){e&&J(e,t,s),G(t,n,s),a=!0},p(t,s){const d={};if(s&8&&(d.data=t[3]),s&1043&&(d.$$scope={dirty:s,ctx:t}),s&1&&r!==(r=t[0][1])){if(e){x();const _=e;D(_.$$.fragment,1,0,()=>{K(_,1)}),ee()}r?(e=M(r,f(t)),B(e.$$.fragment),j(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else r&&e.$set(d)},i(t){a||(e&&j(e.$$.fragment,t),a=!0)},o(t){e&&D(e.$$.fragment,t),a=!1},d(t){t&&q(n),e&&K(e,t)}}}function Ft(o){let e,n,a;var r=o[0][2];function f(t){return{props:{data:t[4],form:t[1]}}}return r&&(e=M(r,f(o))),{c(){e&&B(e.$$.fragment),n=N()},l(t){e&&ie(e.$$.fragment,t),n=N()},m(t,s){e&&J(e,t,s),G(t,n,s),a=!0},p(t,s){const d={};if(s&16&&(d.data=t[4]),s&2&&(d.form=t[1]),s&1&&r!==(r=t[0][2])){if(e){x();const _=e;D(_.$$.fragment,1,0,()=>{K(_,1)}),ee()}r?(e=M(r,f(t)),B(e.$$.fragment),j(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else r&&e.$set(d)},i(t){a||(e&&j(e.$$.fragment,t),a=!0)},o(t){e&&D(e.$$.fragment,t),a=!1},d(t){t&&q(n),e&&K(e,t)}}}function Ht(o){let e,n,a,r;const f=[qt,Ct],t=[];function s(d,_){return d[0][2]?0:1}return e=s(o),n=t[e]=f[e](o),{c(){n.c(),a=N()},l(d){n.l(d),a=N()},m(d,_){t[e].m(d,_),G(d,a,_),r=!0},p(d,_){let g=e;e=s(d),e===g?t[e].p(d,_):(x(),D(t[g],1,1,()=>{t[g]=null}),ee(),n=t[e],n?n.p(d,_):(n=t[e]=f[e](d),n.c()),j(n,1),n.m(a.parentNode,a))},i(d){r||(j(n),r=!0)},o(d){D(n),r=!1},d(d){t[e].d(d),d&&q(a)}}}function xe(o){let e,n=o[6]&&et(o);return{c(){e=ft("div"),n&&n.c(),this.h()},l(a){e=ut(a,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var r=dt(e);n&&n.l(r),r.forEach(q),this.h()},h(){$e(e,"id","svelte-announcer"),$e(e,"aria-live","assertive"),$e(e,"aria-atomic","true"),W(e,"position","absolute"),W(e,"left","0"),W(e,"top","0"),W(e,"clip","rect(0 0 0 0)"),W(e,"clip-path","inset(50%)"),W(e,"overflow","hidden"),W(e,"white-space","nowrap"),W(e,"width","1px"),W(e,"height","1px")},m(a,r){G(a,e,r),n&&n.m(e,null)},p(a,r){a[6]?n?n.p(a,r):(n=et(a),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(a){a&&q(e),n&&n.d()}}}function et(o){let e;return{c(){e=pt(o[7])},l(n){e=ht(n,o[7])},m(n,a){G(n,e,a)},p(n,a){a&128&&_t(e,n[7])},d(n){n&&q(e)}}}function Gt(o){let e,n,a,r,f;const t=[Vt,jt],s=[];function d(g,S){return g[0][1]?0:1}e=d(o),n=s[e]=t[e](o);let _=o[5]&&xe(o);return{c(){n.c(),a=st(),_&&_.c(),r=N()},l(g){n.l(g),a=lt(g),_&&_.l(g),r=N()},m(g,S){s[e].m(g,S),G(g,a,S),_&&_.m(g,S),G(g,r,S),f=!0},p(g,[S]){let I=e;e=d(g),e===I?s[e].p(g,S):(x(),D(s[I],1,1,()=>{s[I]=null}),ee(),n=s[e],n?n.p(g,S):(n=s[e]=t[e](g),n.c()),j(n,1),n.m(a.parentNode,a)),g[5]?_?_.p(g,S):(_=xe(g),_.c(),_.m(r.parentNode,r)):_&&(_.d(1),_=null)},i(g){f||(j(n),f=!0)},o(g){D(n),f=!1},d(g){s[e].d(g),g&&q(a),_&&_.d(g),g&&q(r)}}}function Mt(o,e,n){let{stores:a}=e,{page:r}=e,{components:f}=e,{form:t}=e,{data_0:s=null}=e,{data_1:d=null}=e,{data_2:_=null}=e;ct(a.page.notify);let g=!1,S=!1,I=null;return Pe(()=>{const y=a.page.subscribe(()=>{g&&(n(6,S=!0),n(7,I=document.title||"untitled page"))});return n(5,g=!0),y}),o.$$set=y=>{"stores"in y&&n(8,a=y.stores),"page"in y&&n(9,r=y.page),"components"in y&&n(0,f=y.components),"form"in y&&n(1,t=y.form),"data_0"in y&&n(2,s=y.data_0),"data_1"in y&&n(3,d=y.data_1),"data_2"in y&&n(4,_=y.data_2)},o.$$.update=()=>{o.$$.dirty&768&&a.page.set(r)},[f,t,s,d,_,g,S,I,a,r]}class Bt extends rt{constructor(e){super(),ot(this,e,Mt,Gt,it,{stores:8,page:9,components:0,form:1,data_0:2,data_1:3,data_2:4})}}const Jt={},ge=[()=>Q(()=>import("./chunks/0-9331add3.js"),["./chunks/0-9331add3.js","./chunks/_layout-da46b06b.js","./components/pages/_layout.svelte-55f226fd.js","./chunks/index-b5b9e7e5.js","./chunks/stores-b712c63a.js","./chunks/singletons-a59ddf32.js","./chunks/NavigationView.svelte_svelte_type_style_lang-60757444.js","./assets/NavigationView-c0f8afc8.css","./chunks/utils-2b70e1af.js","./assets/_layout-da2102a9.css"],import.meta.url),()=>Q(()=>import("./chunks/1-adb44d95.js"),["./chunks/1-adb44d95.js","./components/pages/_error.svelte-46b6e6e3.js","./chunks/index-b5b9e7e5.js","./chunks/NavigationView.svelte_svelte_type_style_lang-60757444.js","./assets/NavigationView-c0f8afc8.css","./chunks/Metadata-0fd07422.js","./chunks/Button-ba54a28d.js","./chunks/stores-b712c63a.js","./chunks/singletons-a59ddf32.js","./assets/_error-83f4927d.css"],import.meta.url),()=>Q(()=>import("./chunks/2-25c34d48.js"),["./chunks/2-25c34d48.js","./chunks/_layout-0ee10fee.js","./chunks/control-e6c8e17e.js","./components/pages/blog/posts/_layout.svelte-f21b02d4.js","./chunks/index-b5b9e7e5.js","./chunks/NavigationView.svelte_svelte_type_style_lang-60757444.js","./assets/NavigationView-c0f8afc8.css","./chunks/Metadata-0fd07422.js","./chunks/utils-2b70e1af.js","./chunks/IconButton-882de067.js","./chunks/stores-b712c63a.js","./chunks/singletons-a59ddf32.js","./assets/_layout-1df50e4f.css"],import.meta.url),()=>Q(()=>import("./chunks/3-c8d24a43.js"),["./chunks/3-c8d24a43.js","./components/pages/_page.svelte-04eceef9.js","./chunks/index-b5b9e7e5.js","./chunks/NavigationView.svelte_svelte_type_style_lang-60757444.js","./assets/NavigationView-c0f8afc8.css","./chunks/Metadata-0fd07422.js","./chunks/IconButton-882de067.js","./assets/_page-2edec3dc.css"],import.meta.url),()=>Q(()=>import("./chunks/4-4c0ecb40.js"),["./chunks/4-4c0ecb40.js","./components/pages/blog/_page.svelte-ec3fe3dc.js","./chunks/index-b5b9e7e5.js","./chunks/NavigationView.svelte_svelte_type_style_lang-60757444.js","./assets/NavigationView-c0f8afc8.css","./chunks/Metadata-0fd07422.js","./chunks/utils-2b70e1af.js","./chunks/Button-ba54a28d.js","./assets/_page-fb4ff070.css"],import.meta.url),()=>Q(()=>import("./chunks/5-4b05ae95.js"),["./chunks/5-4b05ae95.js","./components/pages/blog/posts/deleted-localappdata/_page.md-4a703173.js","./chunks/index-b5b9e7e5.js"],import.meta.url),()=>Q(()=>import("./chunks/6-bc7fbcdd.js"),["./chunks/6-bc7fbcdd.js","./components/pages/blog/posts/uwp-audio-playback/_page.md-684a473a.js","./chunks/index-b5b9e7e5.js"],import.meta.url)],Kt=[],Wt={"/":[3],"/blog":[-5],"/blog/posts/deleted-localappdata":[5,[2]],"/blog/posts/uwp-audio-playback":[6,[2]]},zt={handleError:({error:o})=>{console.error(o)}};async function Yt(o){var e;for(const n in o)if(typeof((e=o[n])==null?void 0:e.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(o).map(async([a,r])=>[a,await r])));return o}const Xt=-1,Zt=-2,Qt=-3,xt=-4,en=-5,tn=-6;function nn(o,e){if(typeof o=="number")return r(o,!0);if(!Array.isArray(o)||o.length===0)throw new Error("Invalid input");const n=o,a=Array(n.length);function r(f,t=!1){if(f===Xt)return;if(f===Qt)return NaN;if(f===xt)return 1/0;if(f===en)return-1/0;if(f===tn)return-0;if(t)throw new Error("Invalid input");if(f in a)return a[f];const s=n[f];if(!s||typeof s!="object")a[f]=s;else if(Array.isArray(s))if(typeof s[0]=="string"){const d=s[0],_=e==null?void 0:e[d];if(_)return a[f]=_(r(s[1]));switch(d){case"Date":a[f]=new Date(s[1]);break;case"Set":const g=new Set;a[f]=g;for(let y=1;y<s.length;y+=1)g.add(r(s[y]));break;case"Map":const S=new Map;a[f]=S;for(let y=1;y<s.length;y+=2)S.set(r(s[y]),r(s[y+1]));break;case"RegExp":a[f]=new RegExp(s[1],s[2]);break;case"Object":a[f]=Object(s[1]);break;case"BigInt":a[f]=BigInt(s[1]);break;case"null":const I=Object.create(null);a[f]=I;for(let y=1;y<s.length;y+=2)I[s[y]]=r(s[y+1]);break;default:throw new Error(`Unknown type ${d}`)}}else{const d=new Array(s.length);a[f]=d;for(let _=0;_<s.length;_+=1){const g=s[_];g!==Zt&&(d[_]=r(g))}}else{const d={};a[f]=d;for(const _ in s){const g=s[_];d[_]=r(g)}}return a[f]}return r(0)}function Ne(o){const e=new Set(o);function n(a,r){if(a){for(const f in a)if(f[0]!=="_"&&!e.has(f)){const t=o.join(", ");throw new Error(`Invalid export '${f}'${r?` in ${r}`:""} (valid exports are ${t}, or anything with a '_' prefix)`)}}}return n}Ne(["load","prerender","csr","ssr","trailingSlash"]);Ne(["load","prerender","csr","ssr","actions","trailingSlash"]);Ne(["GET","POST","PATCH","PUT","DELETE","prerender","trailingSlash"]);function an(o){return o.filter(e=>e!=null)}const Ie=Dt(ge,Kt,Wt,Jt),nt=ge[0],Te=ge[1];nt();Te();let te={};try{te=JSON.parse(sessionStorage[tt])}catch{}function Le(o){te[o]=re()}function rn({target:o,base:e}){var Je;const n=document.documentElement,a=[];let r=null;const f={before_navigate:[],after_navigate:[]};let t={branch:[],error:null,url:null},s=!1,d=!1,_=!0,g=!1,S=!1,I=!1,y=!1,F,L=(Je=history.state)==null?void 0:Je[H];L||(L=Date.now(),history.replaceState({...history.state,[H]:L},"",location.href));const we=te[L];we&&(history.scrollRestoration="manual",scrollTo(we.x,we.y));let X,De,se;async function je(){se=se||Promise.resolve(),await se,se=null;const i=new URL(location.href),l=fe(i,!0);r=null,await Ce(l,i,[])}async function ye(i,{noScroll:l=!1,replaceState:u=!1,keepFocus:c=!1,state:p={},invalidateAll:h=!1},m,v){return typeof i=="string"&&(i=new URL(i,ze(document))),de({url:i,scroll:l?re():null,keepfocus:c,redirect_chain:m,details:{state:p,replaceState:u},nav_token:v,accepted:()=>{h&&(y=!0)},blocked:()=>{},type:"goto"})}async function Ve(i){const l=fe(i,!1);if(!l)throw new Error(`Attempted to preload a URL that does not belong to this app: ${i}`);return r={id:l.id,promise:He(l).then(u=>(u.type==="loaded"&&u.state.error&&(r=null),u))},r.promise}async function le(...i){const u=Ie.filter(c=>i.some(p=>c.exec(p))).map(c=>Promise.all([...c.layouts,c.leaf].map(p=>p==null?void 0:p[1]())));await Promise.all(u)}async function Ce(i,l,u,c,p={},h){var v,b;De=p;let m=i&&await He(i);if(m||(m=await Be(l,{id:null},await ae(new Error(`Not found: ${l.pathname}`),{url:l,params:{},route:{id:null}}),404)),l=(i==null?void 0:i.url)||l,De!==p)return!1;if(m.type==="redirect")if(u.length>10||u.includes(l.pathname))m=await ce({status:500,error:await ae(new Error("Redirect loop"),{url:l,params:{},route:{id:null}}),url:l,route:{id:null}});else return ye(new URL(m.location,l).href,{},[...u,l.pathname],p),!1;else((b=(v=m.props)==null?void 0:v.page)==null?void 0:b.status)>=400&&await Y.updated.check()&&await pe(l);if(a.length=0,y=!1,g=!0,c&&c.details){const{details:w}=c,k=w.replaceState?0:1;w.state[H]=L+=k,history[w.replaceState?"replaceState":"pushState"](w.state,"",l)}if(r=null,d?(t=m.state,m.props.page&&(m.props.page.url=l),F.$set(m.props)):qe(m),c){const{scroll:w,keepfocus:k}=c,{activeElement:P}=document;await he();const V=document.activeElement!==P&&document.activeElement!==document.body;if(!k&&!V&&await Ae(),_){const R=l.hash&&document.getElementById(decodeURIComponent(l.hash.slice(1)));w?scrollTo(w.x,w.y):R?R.scrollIntoView():scrollTo(0,0)}}else await he();_=!0,m.props.page&&(X=m.props.page),h&&h(),g=!1}function qe(i){var c;t=i.state;const l=document.querySelector("style[data-sveltekit]");l&&l.remove(),X=i.props.page,F=new Bt({target:o,props:{...i.props,stores:Y},hydrate:!0});const u={from:null,to:{params:t.params,route:{id:((c=t.route)==null?void 0:c.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};f.after_navigate.forEach(p=>p(u)),d=!0}async function ne({url:i,params:l,branch:u,status:c,error:p,route:h,form:m}){let v="never";for(const R of u)(R==null?void 0:R.slash)!==void 0&&(v=R.slash);i.pathname=yt(i.pathname,v),i.search=i.search;const b={type:"loaded",state:{url:i,params:l,branch:u,error:p,route:h},props:{components:an(u).map(R=>R.node.component)}};m!==void 0&&(b.props.form=m);let w={},k=!X,P=0;for(let R=0;R<Math.max(u.length,t.branch.length);R+=1){const E=u[R],T=t.branch[R];(E==null?void 0:E.data)!==(T==null?void 0:T.data)&&(k=!0),E&&(w={...w,...E.data},k&&(b.props[`data_${P}`]=w),P+=1)}return(!t.url||i.href!==t.url.href||t.error!==p||m!==void 0&&m!==X.form||k)&&(b.props.page={error:p,params:l,route:{id:(h==null?void 0:h.id)??null},status:c,url:new URL(i),form:m??null,data:k?w:X.data}),b}async function be({loader:i,parent:l,url:u,params:c,route:p,server_data_node:h}){var w,k,P;let m=null;const v={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},b=await i();if((w=b.universal)!=null&&w.load){let V=function(...E){for(const T of E){const{href:C}=new URL(T,u);v.dependencies.add(C)}};const R={route:{get id(){return v.route=!0,p.id}},params:new Proxy(c,{get:(E,T)=>(v.params.add(T),E[T])}),data:(h==null?void 0:h.data)??null,url:kt(u,()=>{v.url=!0}),async fetch(E,T){let C;E instanceof Request?(C=E.url,T={body:E.method==="GET"||E.method==="HEAD"?void 0:await E.blob(),cache:E.cache,credentials:E.credentials,headers:E.headers,integrity:E.integrity,keepalive:E.keepalive,method:E.method,mode:E.mode,redirect:E.redirect,referrer:E.referrer,referrerPolicy:E.referrerPolicy,signal:E.signal,...T}):C=E;const z=new URL(C,u).href;return V(z),d?At(C,z,T):Lt(C,T)},setHeaders:()=>{},depends:V,parent(){return v.parent=!0,l()}};m=await b.universal.load.call(null,R)??null,m=m?await Yt(m):null}return{node:b,loader:i,server:h,universal:(k=b.universal)!=null&&k.load?{type:"data",data:m,uses:v}:null,data:m??(h==null?void 0:h.data)??null,slash:((P=b.universal)==null?void 0:P.trailingSlash)??(h==null?void 0:h.slash)}}function Fe(i,l,u,c,p){if(y)return!0;if(!c)return!1;if(c.parent&&i||c.route&&l||c.url&&u)return!0;for(const h of c.params)if(p[h]!==t.params[h])return!0;for(const h of c.dependencies)if(a.some(m=>m(new URL(h))))return!0;return!1}function ve(i,l){return(i==null?void 0:i.type)==="data"?{type:"data",data:i.data,uses:{dependencies:new Set(i.uses.dependencies??[]),params:new Set(i.uses.params??[]),parent:!!i.uses.parent,route:!!i.uses.route,url:!!i.uses.url},slash:i.slash}:(i==null?void 0:i.type)==="skip"?l??null:null}async function He({id:i,invalidating:l,url:u,params:c,route:p}){if((r==null?void 0:r.id)===i)return r.promise;const{errors:h,layouts:m,leaf:v}=p,b=[...m,v];h.forEach($=>$==null?void 0:$().catch(()=>{})),b.forEach($=>$==null?void 0:$[1]().catch(()=>{}));let w=null;const k=t.url?i!==t.url.pathname+t.url.search:!1,P=t.route?p.id!==t.route.id:!1;let V=!1;const R=b.map(($,U)=>{var Z;const A=t.branch[U],O=!!($!=null&&$[0])&&((A==null?void 0:A.loader)!==$[1]||Fe(V,P,k,(Z=A.server)==null?void 0:Z.uses,c));return O&&(V=!0),O});if(R.some(Boolean)){try{w=await on(u,R)}catch($){return ce({status:500,error:await ae($,{url:u,params:c,route:{id:p.id}}),url:u,route:p})}if(w.type==="redirect")return w}const E=w==null?void 0:w.nodes;let T=!1;const C=b.map(async($,U)=>{var Ee;if(!$)return;const A=t.branch[U],O=E==null?void 0:E[U];if((!O||O.type==="skip")&&$[1]===(A==null?void 0:A.loader)&&!Fe(T,P,k,(Ee=A.universal)==null?void 0:Ee.uses,c))return A;if(T=!0,(O==null?void 0:O.type)==="error")throw O;return be({loader:$[1],url:u,params:c,route:p,parent:async()=>{var We;const Ke={};for(let ke=0;ke<U;ke+=1)Object.assign(Ke,(We=await C[ke])==null?void 0:We.data);return Ke},server_data_node:ve(O===void 0&&$[0]?{type:"skip"}:O??null,A==null?void 0:A.server)})});for(const $ of C)$.catch(()=>{});const z=[];for(let $=0;$<b.length;$+=1)if(b[$])try{z.push(await C[$])}catch(U){if(U instanceof Qe)return{type:"redirect",location:U.location};let A=500,O;if(E!=null&&E.includes(U))A=U.status??A,O=U.error;else if(U instanceof Oe)A=U.status,O=U.body;else{if(await Y.updated.check())return await pe(u);O=await ae(U,{params:c,url:u,route:{id:p.id}})}const Z=await Ge($,z,h);return Z?await ne({url:u,params:c,branch:z.slice(0,Z.idx).concat(Z.node),status:A,error:O,route:p}):await Be(u,{id:p.id},O,A)}else z.push(void 0);return await ne({url:u,params:c,branch:z,status:200,error:null,route:p,form:l?void 0:null})}async function Ge(i,l,u){for(;i--;)if(u[i]){let c=i;for(;!l[c];)c-=1;try{return{idx:c+1,node:{node:await u[i](),loader:u[i],data:{},server:null,universal:null}}}catch{continue}}}async function ce({status:i,error:l,url:u,route:c}){const p={},m=await be({loader:nt,url:u,params:p,route:c,parent:()=>Promise.resolve({}),server_data_node:ve(null)}),v={node:await Te(),loader:Te,universal:null,server:null,data:null};return await ne({url:u,params:p,branch:[m,v],status:i,error:l,route:null})}function fe(i,l){if(Xe(i,e))return;const u=ue(i);for(const c of Ie){const p=c.exec(u);if(p)return{id:i.pathname+i.search,invalidating:l,route:c,params:vt(p),url:i}}}function ue(i){return bt(i.pathname.slice(e.length)||"/")}function Me({url:i,type:l,intent:u,delta:c}){var v,b;let p=!1;const h={from:{params:t.params,route:{id:((v=t.route)==null?void 0:v.id)??null},url:t.url},to:{params:(u==null?void 0:u.params)??null,route:{id:((b=u==null?void 0:u.route)==null?void 0:b.id)??null},url:i},willUnload:!u,type:l};c!==void 0&&(h.delta=c);const m={...h,cancel:()=>{p=!0}};return S||f.before_navigate.forEach(w=>w(m)),p?null:h}async function de({url:i,scroll:l,keepfocus:u,redirect_chain:c,details:p,type:h,delta:m,nav_token:v,accepted:b,blocked:w}){const k=fe(i,!1),P=Me({url:i,type:h,delta:m,intent:k});if(!P){w();return}Le(L),b(),S=!0,d&&Y.navigating.set(P),await Ce(k,i,c,{scroll:l,keepfocus:u,details:p},v,()=>{S=!1,f.after_navigate.forEach(V=>V(P)),Y.navigating.set(null)})}async function Be(i,l,u,c){return i.origin===location.origin&&i.pathname===location.pathname&&!s?await ce({status:c,error:u,url:i,route:l}):await pe(i)}function pe(i){return location.href=i.href,new Promise(()=>{})}function at(){let i;n.addEventListener("mousemove",h=>{const m=h.target;clearTimeout(i),i=setTimeout(()=>{c(m,2)},20)});function l(h){c(h.composedPath()[0],1)}n.addEventListener("mousedown",l),n.addEventListener("touchstart",l,{passive:!0});const u=new IntersectionObserver(h=>{for(const m of h)m.isIntersecting&&(le(ue(new URL(m.target.href))),u.unobserve(m.target))},{threshold:0});function c(h,m){const v=Ye(h,n);if(!v)return;const{url:b,external:w}=Se(v,e);if(w)return;const k=_e(v);k.reload||(m<=k.preload_data?Ve(b):m<=k.preload_code&&le(ue(b)))}function p(){u.disconnect();for(const h of n.querySelectorAll("a")){const{url:m,external:v}=Se(h,e);if(v)continue;const b=_e(h);b.reload||(b.preload_code===Ze.viewport&&u.observe(h),b.preload_code===Ze.eager&&le(ue(m)))}}f.after_navigate.push(p),p()}return{after_navigate:i=>{Pe(()=>(f.after_navigate.push(i),()=>{const l=f.after_navigate.indexOf(i);f.after_navigate.splice(l,1)}))},before_navigate:i=>{Pe(()=>(f.before_navigate.push(i),()=>{const l=f.before_navigate.indexOf(i);f.before_navigate.splice(l,1)}))},disable_scroll_handling:()=>{(g||!d)&&(_=!1)},goto:(i,l={})=>ye(i,l,[]),invalidate:i=>{if(typeof i=="function")a.push(i);else{const{href:l}=new URL(i,location.href);a.push(u=>u.href===l)}return je()},invalidateAll:()=>(y=!0,je()),preload_data:async i=>{const l=new URL(i,ze(document));await Ve(l)},preload_code:le,apply_action:async i=>{if(i.type==="error"){const l=new URL(location.href),{branch:u,route:c}=t;if(!c)return;const p=await Ge(t.branch.length,u,c.errors);if(p){const h=await ne({url:l,params:t.params,branch:u.slice(0,p.idx).concat(p.node),status:i.status??500,error:i.error,route:c});t=h.state,F.$set(h.props),he().then(Ae)}}else if(i.type==="redirect")ye(i.location,{invalidateAll:!0},[]);else{const l={form:i.data,page:{...X,form:i.data,status:i.status}};F.$set(l),i.type==="success"&&he().then(Ae)}},_start_router:()=>{var i;history.scrollRestoration="manual",addEventListener("beforeunload",l=>{var c;let u=!1;if(!S){const p={from:{params:t.params,route:{id:((c=t.route)==null?void 0:c.id)??null},url:t.url},to:null,willUnload:!0,type:"leave",cancel:()=>u=!0};f.before_navigate.forEach(h=>h(p))}u?(l.preventDefault(),l.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Le(L);try{sessionStorage[tt]=JSON.stringify(te)}catch{}}}),(i=navigator.connection)!=null&&i.saveData||at(),n.addEventListener("click",l=>{if(l.button||l.which!==1||l.metaKey||l.ctrlKey||l.shiftKey||l.altKey||l.defaultPrevented)return;const u=Ye(l.composedPath()[0],n);if(!u)return;const{url:c,external:p,target:h}=Se(u,e);if(!c)return;if(h==="_parent"||h==="_top"){if(window.parent!==window)return}else if(h&&h!=="_self")return;const m=_e(u);if(!(u instanceof SVGAElement)&&c.protocol!==location.protocol&&!(c.protocol==="https:"||c.protocol==="http:"))return;if(p||m.reload){Me({url:c,type:"link"})||l.preventDefault(),S=!0;return}const[b,w]=c.href.split("#");if(w!==void 0&&b===location.href.split("#")[0]){I=!0,Le(L),t.url=c,Y.page.set({...X,url:c}),Y.page.notify();return}de({url:c,scroll:m.noscroll?re():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:c.href===location.href},accepted:()=>l.preventDefault(),blocked:()=>l.preventDefault(),type:"link"})}),n.addEventListener("submit",l=>{if(l.defaultPrevented)return;const u=HTMLFormElement.prototype.cloneNode.call(l.target),c=l.submitter;if(((c==null?void 0:c.formMethod)||u.method)!=="get")return;const h=new URL((c==null?void 0:c.hasAttribute("formaction"))&&(c==null?void 0:c.formAction)||u.action);if(Xe(h,e))return;const m=l.target,{noscroll:v,reload:b}=_e(m);if(b)return;l.preventDefault(),l.stopPropagation();const w=new FormData(m),k=c==null?void 0:c.getAttribute("name");k&&w.append(k,(c==null?void 0:c.getAttribute("value"))??""),h.search=new URLSearchParams(w).toString(),de({url:h,scroll:v?re():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",l=>{var u;if((u=l.state)!=null&&u[H]){if(l.state[H]===L)return;const c=te[l.state[H]];if(t.url.href.split("#")[0]===location.href.split("#")[0]){te[L]=re(),L=l.state[H],scrollTo(c.x,c.y);return}const p=l.state[H]-L;de({url:new URL(location.href),scroll:c,keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{L=l.state[H]},blocked:()=>{history.go(-p)},type:"popstate",delta:p})}}),addEventListener("hashchange",()=>{I&&(I=!1,history.replaceState({...history.state,[H]:++L},"",location.href))});for(const l of document.querySelectorAll("link"))l.rel==="icon"&&(l.href=l.href);addEventListener("pageshow",l=>{l.persisted&&Y.navigating.set(null)})},_hydrate:async({status:i=200,error:l,node_ids:u,params:c,route:p,data:h,form:m})=>{s=!0;const v=new URL(location.href);({params:c={},route:p={id:null}}=fe(v,!1)||{});let b;try{const w=u.map(async(k,P)=>{const V=h[P];return be({loader:ge[k],url:v,params:c,route:p,parent:async()=>{const R={};for(let E=0;E<P;E+=1)Object.assign(R,(await w[E]).data);return R},server_data_node:ve(V)})});b=await ne({url:v,params:c,branch:await Promise.all(w),status:i,error:l,form:m,route:Ie.find(({id:k})=>k===p.id)??null})}catch(w){if(w instanceof Qe){await pe(new URL(w.location,location.href));return}b=await ce({status:w instanceof Oe?w.status:500,error:await ae(w,{url:v,params:c,route:p}),url:v,route:p})}qe(b)}}}async function on(o,e){var f;const n=new URL(o);n.pathname=Rt(o.pathname),n.searchParams.append("x-sveltekit-invalidated",e.map(t=>t?"1":"").join("_"));const a=await me(n.href),r=await a.json();if(!a.ok)throw new Error(r);return(f=r.nodes)==null||f.forEach(t=>{(t==null?void 0:t.type)==="data"&&(t.data=nn(t.data),t.uses={dependencies:new Set(t.uses.dependencies??[]),params:new Set(t.uses.params??[]),parent:!!t.uses.parent,route:!!t.uses.route,url:!!t.uses.url})}),r}function ae(o,e){return o instanceof Oe?o.body:zt.handleError({error:o,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}function Ae(){const o=document.querySelector("[autofocus]");if(o)o.focus();else{const e=document.body,n=e.getAttribute("tabindex");return e.tabIndex=-1,e.focus({preventScroll:!0}),n!==null?e.setAttribute("tabindex",n):e.removeAttribute("tabindex"),new Promise(a=>{setTimeout(()=>{var r;a((r=getSelection())==null?void 0:r.removeAllRanges())})})}}async function fn({env:o,hydrate:e,paths:n,target:a,version:r}){mt(n),wt(r);const f=rn({target:a,base:n.base});gt({client:f}),e?await f._hydrate(e):f.goto(location.href,{replaceState:!0}),f._start_router()}export{fn as start};
